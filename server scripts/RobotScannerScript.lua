local ReplicatedStorage = game:GetService("ReplicatedStorage")
local phoneEvent = ReplicatedStorage:FindFirstChild("PhoneEvent") or Instance.new("RemoteEvent")
phoneEvent.Name = "PhoneEvent"
phoneEvent.Parent = ReplicatedStorage

local robotsScanned = ReplicatedStorage:FindFirstChild("RobotsScanned") or Instance.new("IntValue")
robotsScanned.Name = "RobotsScanned"
robotsScanned.Value = 0
robotsScanned.Parent = ReplicatedStorage

-- –î–∞–Ω–Ω—ã–µ –ø–æ —Ä–æ–±–æ—Ç–∞–º –ø–æ—Å–ª–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
local robotData = {
	["Robot_1"] = {
		part = 1,
		title = "ü§ñ –†–æ–±–æ—Ç-–†–∞–∑–≤–µ–¥—á–∏–∫",
		content = "–≠—Ç–æ—Ç —Ä–æ–±–æ—Ç —Å–æ–±–∏—Ä–∞–ª –¥–∞–Ω–Ω—ã–µ –æ –≥–æ—Ä–æ–¥–µ. –ï–≥–æ –ø–∞–º—è—Ç—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∞, –Ω–æ —É–¥–∞–ª–æ—Å—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–∞—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.",
		tasks = "–ó–∞–¥–∞—á–∞: –ü—Ä–æ–≤–µ—Ä—å, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å. –í–æ–∑–º–æ–∂–Ω–æ, —Å—Ä–µ–¥–∏ –Ω–∏—Ö –µ—Å—Ç—å –≤–∞–∂–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏."
	},
	["Robot_2"] = {
		part = 2,
		title = "üîß –°–µ—Ä–≤–∏—Å–Ω—ã–π –¥—Ä–æ–Ω",
		content = "–≠—Ç–æ—Ç –¥—Ä–æ–Ω –æ—Ç–≤–µ—á–∞–ª –∑–∞ —Ä–µ–º–æ–Ω—Ç –≥–æ—Ä–æ–¥—Å–∫–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –í –µ–≥–æ –ª–æ–≥–µ –µ—Å—Ç—å –∑–∞–ø–∏—Å–∏ –æ –ø–æ–ª–æ–º–∫–∞—Ö.",
		tasks = "–ó–∞–¥–∞—á–∞: –ò—Å–ø–æ–ª—å–∑—É–π –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –≤ –≥–æ—Ä–æ–¥–µ –≤—ã—à–ª–∏ –∏–∑ —Å—Ç—Ä–æ—è."
	},
	["Robot_3"] = {
		part = 3,
		title = "‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç",
		content = "–≠—Ç–æ—Ç —Ä–æ–±–æ—Ç –ø–æ–º–æ–≥–∞–ª –∏–Ω–∂–µ–Ω–µ—Ä–∞–º. –í –µ–≥–æ –ø–∞–º—è—Ç–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–æ–π.",
		tasks = "–ó–∞–¥–∞—á–∞: –†–∞–∑–±–µ—Ä–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –Ω–∞–π–¥–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã."
	}
}

-- –õ–µ–∫—Ü–∏—è –ø–æ—Å–ª–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Ä–æ–±–æ—Ç–æ–≤
local cycleLecture = {
	title = "üß©3. –¶–∏–∫–ª—ã –≤ Lua",
	content = [[–ü—Ä–∏–≤–µ—Ç, —Ö–∞–∫–µ—Ä! –¢—ã —Å–æ–±—Ä–∞–ª –¥–∞–Ω–Ω—ã–µ —Å–æ –≤—Å–µ—Ö —Ä–æ–±–æ—Ç–æ–≤, –∏ —Ç–µ–ø–µ—Ä—å –ø–æ—Ä–∞ –∏–∑—É—á–∏—Ç—å "–¶–∏–∫–ª—ã" ‚Äî –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å –¥–µ–π—Å—Ç–≤–∏—è.

üîπ **–ß—Ç–æ —Ç–∞–∫–æ–µ —Ü–∏–∫–ª—ã?**
–¶–∏–∫–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–¥ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑. –í Lua –µ—Å—Ç—å —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–∞ —Ü–∏–∫–ª–æ–≤:

1. **for** (—á–∏—Å–ª–æ–≤–æ–π —Ü–∏–∫–ª)
   –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ —Ç—ã –∑–Ω–∞–µ—à—å, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –Ω—É–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ.
   –°–∏–Ω—Ç–∞–∫—Å–∏—Å: for i = –Ω–∞—á–∞–ª–æ, –∫–æ–Ω–µ—Ü, —à–∞–≥ do -- –∫–æ–¥ end
   –ü—Ä–∏–º–µ—Ä:
   for i = 1, 5, 1 do
       print("–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ #" .. i)
   end
   -- –í—ã–≤–µ–¥–µ—Ç: –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ #1, –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ #2, ..., –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ #5

2. **while** (—Ü–∏–∫–ª —Å —É—Å–ª–æ–≤–∏–µ–º)
   –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –ø–æ–∫–∞ —É—Å–ª–æ–≤–∏–µ –∏—Å—Ç–∏–Ω–Ω–æ.
   –°–∏–Ω—Ç–∞–∫—Å–∏—Å: while —É—Å–ª–æ–≤–∏–µ do -- –∫–æ–¥ end
   –ü—Ä–∏–º–µ—Ä:
   local count = 0
   while count < 3 do
       print("–°—á–µ—Ç: " .. count)
       count = count + 1
   end
   -- –í—ã–≤–µ–¥–µ—Ç: –°—á–µ—Ç: 0, –°—á–µ—Ç: 1, –°—á–µ—Ç: 2

3. **repeat-until** (—Ü–∏–∫–ª –¥–æ —É—Å–ª–æ–≤–∏—è)
   –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ö–æ—Ç—è –±—ã —Ä–∞–∑, –ø–æ–∫–∞ —É—Å–ª–æ–≤–∏–µ –Ω–µ —Å—Ç–∞–Ω–µ—Ç –∏—Å—Ç–∏–Ω–Ω—ã–º.
   –°–∏–Ω—Ç–∞–∫—Å–∏—Å: repeat -- –∫–æ–¥ until —É—Å–ª–æ–≤–∏–µ
   –ü—Ä–∏–º–µ—Ä:
   local num = 0
   repeat
       print("–ß–∏—Å–ª–æ: " .. num)
       num = num + 1
   until num > 4
   -- –í—ã–≤–µ–¥–µ—Ç: –ß–∏—Å–ª–æ: 0, –ß–∏—Å–ª–æ: 1, ..., –ß–∏—Å–ª–æ: 4]],
	tasks = [[üîπ **–ó–∞–¥–∞—á–∞1: –ü–æ–¥—Å—á–µ—Ç —Ä–æ–±–æ—Ç–æ–≤**
–†–æ–±–æ—Ç–æ–≤ —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –∑–∞–≤–æ–¥–∞. –ü–æ–¥—Å—á–∏—Ç–∞–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–æ–±–æ—Ç–æ–≤ (–æ—Ç 1 –¥–æ 3 –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ) —Å –ø–æ–º–æ—â—å—é —Ü–∏–∫–ª–∞ for. 
–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é sum. –ï—Å–ª–∏ —Å—É–º–º–∞ —Ä–∞–≤–Ω–∞ 6, –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ –µ—â–µ 3 —Ä–æ–±–æ—Ç–∞ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã.

üîπ **–ó–∞–¥–∞—á–∞ 2: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–µ—á–∏ (for)**
–ü–µ—á—å –ø–µ—Ä–µ—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –∑–∞–≤–æ–¥–∞, –Ω–æ –µ–π –Ω—É–∂–Ω–æ 30 –µ–¥–∏–Ω–∏—Ü —ç–Ω–µ—Ä–≥–∏–∏. 
–£ —Ç–µ–±—è 6 —Ä–æ–±–æ—Ç–æ–≤. –ö–∞–∂–¥–∞—è –ø–∞—Ä–∞ —Ä–æ–±–æ—Ç–æ–≤ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 10 –µ–¥–∏–Ω–∏—Ü —ç–Ω–µ—Ä–≥–∏–∏. 
–ò—Å–ø–æ–ª—å–∑—É–π —Ü–∏–∫–ª for, —á—Ç–æ–±—ã –ø–æ–¥—Å—á–∏—Ç–∞—Ç—å —ç–Ω–µ—Ä–≥–∏—é –æ—Ç –≤—Å–µ—Ö –ø–∞—Ä, –∏ –∑–∞–ø–∏—à–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é energy.

üîπ **–ó–∞–¥–∞—á–∞ 3: –ó–∞–ø—É—Å–∫ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ (while)**
–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —á–∞—Å—Ç–æ—Ç–µ 50 –µ–¥–∏–Ω–∏—Ü. –£ —Ç–µ–±—è –µ—Å—Ç—å 6 —Ä–æ–±–æ—Ç–æ–≤ (Robot_1‚ÄìRobot_6), –∫–∞–∂–¥—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç 10 –µ–¥–∏–Ω–∏—Ü —á–∞—Å—Ç–æ—Ç—ã. 
–ò—Å–ø–æ–ª—å–∑—É–π —Ü–∏–∫–ª while, —á—Ç–æ–±—ã —É–≤–µ–ª–∏—á–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É –¥–æ 50, –∏ –∑–∞–ø–∏—à–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é frequency.

üîπ **–ó–∞–¥–∞—á–∞ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω–≤–µ–π–µ—Ä–∞ (repeat-until)**
–ö–æ–Ω–≤–µ–π–µ—Ä –¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å 12 –µ–¥–∏–Ω–∏—Ü –º–∞—Ç–µ—Ä–∏–∞–ª–∞. –£ —Ç–µ–±—è 6 —Ä–æ–±–æ—Ç–æ–≤, –∫–∞–∂–¥—ã–π –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç 2 –µ–¥–∏–Ω–∏—Ü—ã. 
–ò—Å–ø–æ–ª—å–∑—É–π —Ü–∏–∫–ª repeat-until, —á—Ç–æ–±—ã –ø–æ–¥—Å—á–∏—Ç–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∏ –∑–∞–ø–∏—à–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é materials.]]
}

local function onScanned(player, robot)
	local data = robotData[robot.Name]
	if data then
		print(player.Name .. " –æ—Ç—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–ª " .. robot.Name .. ", —á–∞—Å—Ç—å: " .. data.part)
		phoneEvent:FireClient(player, data.part, data.title, data.content, data.tasks)
		robotsScanned.Value = robotsScanned.Value + 1
		print("–†–æ–±–æ—Ç–æ–≤ –æ—Ç—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ: " .. robotsScanned.Value)

		if robotsScanned.Value == 3 then
			print("–í—Å–µ —Ä–æ–±–æ—Ç—ã –æ—Ç—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω—ã, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –ª–µ–∫—Ü–∏—é –∏–≥—Ä–æ–∫—É " .. player.Name)
			phoneEvent:FireClient(player, cycleLecture.title, cycleLecture.content, cycleLecture.tasks)
		end

		local prompt = robot:FindFirstChild("HumanoidRootPart"):FindFirstChild("ProximityPrompt")
		if prompt then
			prompt.Enabled = false
		end
	end
end

for _, robot in pairs(workspace.level_3.interactive:GetChildren()) do
	print("–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—ä–µ–∫—Ç–∞: " .. robot.Name .. " (" .. robot.ClassName .. ")")
	local rootPart = robot:FindFirstChild("HumanoidRootPart")
	local prompt = rootPart and rootPart:FindFirstChild("ProximityPrompt")

	if prompt then
		print("–ù–∞–π–¥–µ–Ω ProximityPrompt –≤ " .. robot.Name .. " (HumanoidRootPart)")
		prompt.Triggered:Connect(function(player)
			onScanned(player, robot)
		end)
	else
		warn("ProximityPrompt –∏–ª–∏ HumanoidRootPart –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ " .. robot.Name)
	end
end
